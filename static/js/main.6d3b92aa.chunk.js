(this["webpackJsonpreact-chat"]=this["webpackJsonpreact-chat"]||[]).push([[0],{17:function(e,t,a){e.exports=a(31)},22:function(e,t,a){},24:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(11),o=a.n(c),i=(a(22),a(9)),l=a.n(i),u=a(12),s=a(16),m=a(6),p=(a(24),a(3)),d=a.n(p),f=(a(25),a(29),a(32),a(14)),g=a(15);d.a.initializeApp({apiKey:"AIzaSyBxJqf5SH_1hp-quzE8lVjTyryWY7Q2AXs",authDomain:"piedrapapeltijera-cc32a.firebaseapp.com",databaseURL:"https://piedrapapeltijera-cc32a.firebaseio.com",projectId:"piedrapapeltijera-cc32a",storageBucket:"piedrapapeltijera-cc32a.appspot.com",messagingSenderId:"583053769337",appId:"1:583053769337:web:e61abcc981cc7025c332a8"});var h=d.a.auth(),b=d.a.firestore();d.a.analytics();function E(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"sign-in",onClick:function(){var e=new d.a.auth.GoogleAuthProvider;h.signInWithPopup(e)}},"Ingresar"),r.a.createElement("p",null,"Home"))}function v(){return h.currentUser&&r.a.createElement("button",{className:"sign-out",onClick:function(){return h.signOut()}},"Sign Out")}function j(){var e=["monitor","program","application","keyboard","javascript","gaming","network"],t=e[Math.floor(Math.random()*e.length)];console.log(t)}function O(){return h.currentUser&&r.a.createElement("button",{className:"random",onClick:function(){return j()}},"Random")}function w(){var e=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){d.a.firestore().collection("messages").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(s.a)({id:e.id},e.data())}));r(t)}))}),[]),console.log(JSON.stringify(a)),a}(),t=Object(n.useRef)(),a=b.collection("messages"),c=a.orderBy("createdAt").limit(25),o=Object(g.a)(c,{idField:"id"}),i=(Object(m.a)(o,1)[0],Object(n.useState)("")),p=Object(m.a)(i,2),f=p[0],E=p[1],v=Object(n.useState)(""),O=Object(m.a)(v,2),w=O[0],k=O[1],S=Object(n.useState)(),I=Object(m.a)(S,2),U=(I[0],I[1],function(){var e=Object(u.a)(l.a.mark((function e(n){var r,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=h.currentUser,c=r.uid,o=r.photoURL,e.next=4,a.add({text:f,espanol:w,createdAt:d.a.firestore.FieldValue.serverTimestamp(),uid:c,photoURL:o});case 4:E(""),k(""),t.current.scrollIntoView({behavior:"smooth"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",null,e&&e.map((function(e){return r.a.createElement(y,{key:e.id,message:e})})),r.a.createElement("span",{ref:t})),r.a.createElement("form",{onSubmit:U},r.a.createElement("input",{value:f,onChange:function(e){return E(e.target.value)},placeholder:"Ingles"}),r.a.createElement("input",{value:w,onChange:function(e){return k(e.target.value)},placeholder:"Espa\xf1ol"}),r.a.createElement("button",{type:"submit",disabled:!f},"\ud83d\udd4a\ufe0f"),r.a.createElement("button",{type:"submit",onChange:function(e){return j()}},"Random")))}function y(e){var t=e.message,a=t.text,n=t.uid,c=t.photoURL,o=n===h.currentUser.uid?"sent":"received";return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"message ".concat(o)},r.a.createElement("img",{src:c||"https://api.adorable.io/avatars/23/abott@adorable.png"}),r.a.createElement("p",null,a)))}var k=function(){var e=Object(f.a)(h),t=Object(m.a)(e,1)[0];return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("h1",null,"\u269b\ufe0f\ud83d\udd25\ud83d\udcac"),r.a.createElement(v,null),r.a.createElement(O,null)),r.a.createElement("section",null,t?r.a.createElement(w,null):r.a.createElement(E,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.6d3b92aa.chunk.js.map